{
  "schema_name": "tutor_asset.exam.v1",
  "version": "1.0",
  "topic": "insertionsort",
  "lang": "fa",
  "mode": "exam",
  "title": "InsertionSort (مرتب‌سازی درجی) — FIAE Explain Core v1.0",
  "questions": [
    {
      "id": "ex01_trace_passes",
      "type": "open",
      "prompt": "InsertionSort را روی arr = [7, 2, 6, 3] اجرا کن و بعد از هر i وضعیت آرایه را بنویس.",
      "answer": "i=1: [2,7,6,3]؛ i=2: [2,6,7,3]؛ i=3: [2,3,6,7]",
      "explain_de": "",
      "explain_fa": "i=1: key=2، 7 به راست → [2,7,6,3]. i=2: key=6، 7 به راست → [2,6,7,3]. i=3: key=3، 7 و 6 به راست → [2,3,6,7]."
    },
    {
      "id": "ex02_trace_after_i2",
      "type": "open",
      "prompt": "InsertionSort روی arr = [4, 3, 2, 1]. بعد از i=2 آرایه چیست؟",
      "answer": "[2,3,4,1]",
      "explain_de": "",
      "explain_fa": "i=1: [3,4,2,1]؛ i=2: key=2، 4 و 3 به راست → [2,3,4,1]."
    },
    {
      "id": "ex03_trace_insert_pos",
      "type": "open",
      "prompt": "InsertionSort روی arr = [2, 5, 4, 1]. حالت بعد از i=1 و i=2؟",
      "answer": "i=1: [2,5,4,1]؛ i=2: [2,4,5,1]",
      "explain_de": "",
      "explain_fa": "i=1: key=5 بدون جابه‌جایی. i=2: key=4، 5 به راست → [2,4,5,1]."
    },
    {
      "id": "ex04_complexity_best",
      "type": "open",
      "prompt": "Best-Case برای n=5 چند مقایسه دارد؟",
      "answer": "4",
      "explain_de": "",
      "explain_fa": "آرایه مرتب است، برای هر i یک مقایسه؛ n-1 = 4."
    },
    {
      "id": "ex05_complexity_worst",
      "type": "open",
      "prompt": "Worst-Case برای n=5 چند مقایسه دارد؟",
      "answer": "10",
      "explain_de": "",
      "explain_fa": "جمع 1+2+3+4 = 10 = n(n-1)/2."
    },
    {
      "id": "ex06_trap_condition",
      "type": "open",
      "prompt": "شرط درست while برای مرتب‌سازی صعودی چیست؟",
      "answer": "j >= 0 و a[j] > key",
      "explain_de": "",
      "explain_fa": "تا وقتی a[j] > key است Shift انجام می‌شود و در برابری توقف می‌کند."
    },
    {
      "id": "ex07_trap_stability",
      "type": "open",
      "prompt": "چرا InsertionSort پایدار است؟",
      "answer": "چون فقط در حالت > جابه‌جایی می‌کند",
      "explain_de": "",
      "explain_fa": "عناصر برابر جابه‌جا نمی‌شوند، پس ترتیب نسبی حفظ می‌شود."
    },
    {
      "id": "ex08_invariant",
      "type": "open",
      "prompt": "بعد از هر دور i چه ناوردایی برقرار است؟",
      "answer": "اولین i+1 عنصر مرتب هستند",
      "explain_de": "",
      "explain_fa": "پس از هر i، بخش چپ 0..i مرتب است و کوچک‌ترین عناصر را دارد."
    },
    {
      "id": "ex09_comparator",
      "type": "open",
      "prompt": "InsertionSort با Comparator f(x,y) (f<0 یعنی x قبل از y). شرط while چیست؟",
      "answer": "f(key, a[j]) < 0",
      "explain_de": "",
      "explain_fa": "اگر key باید قبل از a[j] بیاید، f(key,a[j]) < 0 و Shift انجام می‌شود."
    },
    {
      "id": "ex10_edge_position",
      "type": "open",
      "prompt": "اگر j به -1 برسد، key کجا قرار می‌گیرد؟",
      "answer": "ایندکس 0 (j+1)",
      "explain_de": "",
      "explain_fa": "اگر j=-1، key از همه کوچک‌تر است و در ابتدای آرایه قرار می‌گیرد."
    }
  ]
}
