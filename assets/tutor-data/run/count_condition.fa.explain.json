{
  "schema_name": "tutor_asset.explain.v1",
  "version": "1.0",
  "topic": "count_condition",
  "lang": "fa",
  "mode": "explain",
  "title": "Count Condition (شمارش با شرط) — FIAE Explain Core v1.0",
  "summary": "**Count Condition (شمارش با شرط)** یک الگوریتم ساده است که عناصر یک آرایه را می‌پیماید و تعداد عناصری که یک **شرط مشخص** را برآورده می‌کنند، می‌شمارد یا فیلتر می‌کند.\n\n**اصل:**\n- یک متغیر شمارنده count از 0 شروع می‌شود\n- آرایه را از اول تا آخر بپیما\n- برای هر عنصر: اگر شرط برقرار بود → count افزایش یابد (یا عنصر به لیست اضافه شود)\n- خروجی: تعداد (count) یا لیست فیلتر شده (filtered)\n\n**نام:** «شمارش با شرط» — چون فقط عناصری که شرط را برآورده می‌کنند شمرده می‌شوند.\n\n**اهمیت IHK:**\n- الگوریتم خطی ساده: O(n)\n- تفاوت بین شمارش (count) و فیلتر (build list)\n- شرایط دقیق: >, >=, ==, <, <=\n- دسترسی به فیلدهای آبجکت (برای count_has_note)",
  "blocks": [
    {
      "kind": "definition",
      "text": "**Count Condition (شمارش با شرط)** یک الگوریتم ساده است که عناصر یک آرایه را می‌پیماید و تعداد عناصری که یک **شرط مشخص** را برآورده می‌کنند، می‌شمارد یا فیلتر می‌کند.\n\n**اصل:**\n- یک متغیر شمارنده count از 0 شروع می‌شود\n- آرایه را از اول تا آخر بپیما\n- برای هر عنصر: اگر شرط برقرار بود → count افزایش یابد (یا عنصر به لیست اضافه شود)\n- خروجی: تعداد (count) یا لیست فیلتر شده (filtered)\n\n**نام:** «شمارش با شرط» — چون فقط عناصری که شرط را برآورده می‌کنند شمرده می‌شوند.\n\n**اهمیت IHK:**\n- الگوریتم خطی ساده: O(n)\n- تفاوت بین شمارش (count) و فیلتر (build list)\n- شرایط دقیق: >, >=, ==, <, <=\n- دسترسی به فیلدهای آبجکت (برای count_has_note)"
    },
    {
      "kind": "idea",
      "text": "TBD"
    },
    {
      "kind": "procedure",
      "text": "TBD"
    },
    {
      "kind": "example",
      "text": "TBD"
    },
    {
      "kind": "complexity",
      "text": "**زمان (Time):**\n- **همه نسخه‌ها:** O(n) — خطی\n- دلیل: یک بار کل آرایه را می‌پیماییم\n- تعداد مقایسه‌ها: n (برای هر عنصر یک بار)\n\n**حافظه (Space):**\n- **count_gt:** O(1) — فقط متغیر count\n- **count_has_note:** O(1) — فقط متغیر count\n- **build_filtered_list:** O(k) — k تعداد عناصر فیلتر شده\n  - Worst-Case: O(n) اگر همه عناصر شرط را برآورده کنند\n  - Best-Case: O(1) اگر هیچ عنصری شرط را برآورده نکند\n\n**مقایسه با الگوریتم‌های دیگر:**\n- سریع‌تر از مرتب‌سازی: O(n) در مقابل O(n²) یا O(n log n)\n- مشابه LinearSearch: هر دو خطی، ولی Count همه عناصر را بررسی می‌کند"
    },
    {
      "kind": "ihk_traps",
      "text": "**1) قاطی کردن count با i:**\n- ❌ **غلط:** count = i\n- ✓ **درست:** count و i مستقل هستند\n- i شمارندهٔ حلقه است، count شمارندهٔ شرط\n\n**2) افزایش count در هر دور:**\n- ❌ **غلط:** count در هر دور افزایش می‌یابد\n- ✓ **درست:** count فقط وقتی شرط برقرار است افزایش می‌یابد\n\n**3) فراموش کردن مقداردهی اولیه:**\n- ❌ **غلط:** count بدون مقداردهی اولیه\n- ✓ **درست:** count = 0 قبل از حلقه\n\n**4) شرط اشتباه:**\n- دقت کن: > یا >= یا == یا < یا <=\n- مثال: \"بزرگ‌تر از\" یعنی >, نه >=\n\n**5) دسترسی اشتباه به فیلد (count_has_note):**\n- ❌ **غلط:** arr[field] یا arr[i].note (هاردکد)\n- ✓ **درست:** arr[i][field] — field یک پارامتر است\n\n**6) قاطی کردن count با filtered (build_filtered_list):**\n- ❌ **غلط:** بازگرداندن count به‌جای filtered\n- ✓ **درست:** بازگرداندن لیست filtered\n\n**7) اضافه کردن i به‌جای arr[i]:**\n- ❌ **غلط:** filtered.append(i)\n- ✓ **درست:** filtered.append(arr[i])\n\n**8) فراموش کردن filtered = []:**\n- ❌ **غلط:** بدون مقداردهی اولیه\n- ✓ **درست:** filtered = [] قبل از حلقه"
    },
    {
      "kind": "variants",
      "text": "**1) count_gt (شمارش بزرگ‌تر از آستانه):**\n- **ورودی:** آرایه عدد + threshold\n- **شرط:** arr[i] > threshold\n- **خروجی:** تعداد (count)\n- **مثال:** arr = [5, 2, 8, 3], threshold = 4 → count = 2 (عناصر 5 و 8)\n\n**2) count_has_note (شمارش آبجکت‌ها با فیلد مشخص):**\n- **ورودی:** آرایه آبجکت + field + value\n- **شرط:** arr[i][field] == value\n- **خروجی:** تعداد (count)\n- **مثال:** students = [{note: 2}, {note: 3}, {note: 2}], field = \"note\", value = 2 → count = 2\n- **دقت:** دسترسی به فیلد: arr[i][field] یا arr[i].field\n\n**3) build_filtered_list (ساخت لیست فیلتر شده):**\n- **ورودی:** آرایه عدد + threshold\n- **شرط:** arr[i] > threshold\n- **خروجی:** لیست filtered (نه فقط count!)\n- **مثال:** arr = [5, 2, 8, 3], threshold = 4 → filtered = [5, 8]\n- **تفاوت:** اینجا لیست می‌سازیم، نمی‌شماریم\n\n**قانون کلی:**\n- تمام نسخه‌ها خطی هستند: O(n)\n- تفاوت اصلی در نوع خروجی: count (عدد) یا filtered (لیست)\n- شرط باید دقیق باشد: >, ==, <"
    }
  ]
}
